{"ast":null,"code":"export async function postLog(payload) {\n  const token = localStorage.getItem('token');\n  const headers = {\n    'Content-Type': 'application/json'\n  };\n  if (token) headers['Authorization'] = 'Bearer ' + token;\n  const res = await fetch('/api/logs', {\n    method: 'POST',\n    headers,\n    body: JSON.stringify(payload)\n  });\n  return res;\n}\nexport async function fetchLogs(params = {}) {\n  // Backend exposes a POST /api/search endpoint which returns a SearchResponse { hits: [...] }.\n  // Use that endpoint to fetch logs (search with optional from/to/size/query params).\n  const res = await fetch('/api/search', {\n    method: 'POST',\n    headers: function () {\n      const h = {\n        'Content-Type': 'application/json'\n      };\n      const t = localStorage.getItem('token');\n      if (t) h['Authorization'] = 'Bearer ' + t;\n      return h;\n    }(),\n    body: JSON.stringify(params)\n  });\n  return res.json();\n}\nexport async function search(req) {\n  const res = await fetch('/api/search', {\n    method: 'POST',\n    headers: function () {\n      const h = {\n        'Content-Type': 'application/json'\n      };\n      const t = localStorage.getItem('token');\n      if (t) h['Authorization'] = 'Bearer ' + t;\n      return h;\n    }(),\n    body: JSON.stringify(req)\n  });\n  return res.json();\n}\nexport async function fetchAlerts() {\n  const res = await fetch('/api/alerts');\n  return res.json();\n}\nexport async function createAlert(payload) {\n  const res = await fetch('/api/alerts', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(payload)\n  });\n  return res;\n}","map":{"version":3,"names":["postLog","payload","token","localStorage","getItem","headers","res","fetch","method","body","JSON","stringify","fetchLogs","params","h","t","json","search","req","fetchAlerts","createAlert"],"sources":["C:/Users/vaish/OneDrive/Desktop/splunk-lite-sqlite-fts/frontend/src/api.js"],"sourcesContent":["export async function postLog(payload){\r\n  const token = localStorage.getItem('token');\r\n  const headers = {'Content-Type':'application/json'};\r\n  if (token) headers['Authorization'] = 'Bearer ' + token;\r\n  const res = await fetch('/api/logs', {\r\n    method: 'POST',\r\n    headers,\r\n    body: JSON.stringify(payload)\r\n  });\r\n  return res;\r\n}\r\n\r\nexport async function fetchLogs(params = {}){\r\n  // Backend exposes a POST /api/search endpoint which returns a SearchResponse { hits: [...] }.\r\n  // Use that endpoint to fetch logs (search with optional from/to/size/query params).\r\n  const res = await fetch('/api/search', {\r\n    method: 'POST',\r\n  headers: (function(){ const h={'Content-Type':'application/json'}; const t=localStorage.getItem('token'); if(t) h['Authorization']='Bearer '+t; return h; })(),\r\n  body: JSON.stringify(params)\r\n  });\r\n  return res.json();\r\n}\r\n\r\nexport async function search(req){\r\n  const res = await fetch('/api/search', {\r\n    method:'POST',\r\n  headers:(function(){ const h={'Content-Type':'application/json'}; const t=localStorage.getItem('token'); if(t) h['Authorization']='Bearer '+t; return h; })(),\r\n  body: JSON.stringify(req)\r\n  });\r\n  return res.json();\r\n}\r\n\r\nexport async function fetchAlerts(){\r\n  const res = await fetch('/api/alerts');\r\n  return res.json();\r\n}\r\n\r\nexport async function createAlert(payload){\r\n  const res = await fetch('/api/alerts', {\r\n    method:'POST',\r\n    headers:{'Content-Type':'application/json'},\r\n    body: JSON.stringify(payload)\r\n  });\r\n  return res;\r\n}\r\n"],"mappings":"AAAA,OAAO,eAAeA,OAAOA,CAACC,OAAO,EAAC;EACpC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,OAAO,GAAG;IAAC,cAAc,EAAC;EAAkB,CAAC;EACnD,IAAIH,KAAK,EAAEG,OAAO,CAAC,eAAe,CAAC,GAAG,SAAS,GAAGH,KAAK;EACvD,MAAMI,GAAG,GAAG,MAAMC,KAAK,CAAC,WAAW,EAAE;IACnCC,MAAM,EAAE,MAAM;IACdH,OAAO;IACPI,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACV,OAAO;EAC9B,CAAC,CAAC;EACF,OAAOK,GAAG;AACZ;AAEA,OAAO,eAAeM,SAASA,CAACC,MAAM,GAAG,CAAC,CAAC,EAAC;EAC1C;EACA;EACA,MAAMP,GAAG,GAAG,MAAMC,KAAK,CAAC,aAAa,EAAE;IACrCC,MAAM,EAAE,MAAM;IAChBH,OAAO,EAAG,YAAU;MAAE,MAAMS,CAAC,GAAC;QAAC,cAAc,EAAC;MAAkB,CAAC;MAAE,MAAMC,CAAC,GAACZ,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAAE,IAAGW,CAAC,EAAED,CAAC,CAAC,eAAe,CAAC,GAAC,SAAS,GAACC,CAAC;MAAE,OAAOD,CAAC;IAAE,CAAC,CAAE,CAAC;IAC9JL,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACE,MAAM;EAC3B,CAAC,CAAC;EACF,OAAOP,GAAG,CAACU,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeC,MAAMA,CAACC,GAAG,EAAC;EAC/B,MAAMZ,GAAG,GAAG,MAAMC,KAAK,CAAC,aAAa,EAAE;IACrCC,MAAM,EAAC,MAAM;IACfH,OAAO,EAAE,YAAU;MAAE,MAAMS,CAAC,GAAC;QAAC,cAAc,EAAC;MAAkB,CAAC;MAAE,MAAMC,CAAC,GAACZ,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAAE,IAAGW,CAAC,EAAED,CAAC,CAAC,eAAe,CAAC,GAAC,SAAS,GAACC,CAAC;MAAE,OAAOD,CAAC;IAAE,CAAC,CAAE,CAAC;IAC7JL,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACO,GAAG;EACxB,CAAC,CAAC;EACF,OAAOZ,GAAG,CAACU,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeG,WAAWA,CAAA,EAAE;EACjC,MAAMb,GAAG,GAAG,MAAMC,KAAK,CAAC,aAAa,CAAC;EACtC,OAAOD,GAAG,CAACU,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeI,WAAWA,CAACnB,OAAO,EAAC;EACxC,MAAMK,GAAG,GAAG,MAAMC,KAAK,CAAC,aAAa,EAAE;IACrCC,MAAM,EAAC,MAAM;IACbH,OAAO,EAAC;MAAC,cAAc,EAAC;IAAkB,CAAC;IAC3CI,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACV,OAAO;EAC9B,CAAC,CAAC;EACF,OAAOK,GAAG;AACZ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}