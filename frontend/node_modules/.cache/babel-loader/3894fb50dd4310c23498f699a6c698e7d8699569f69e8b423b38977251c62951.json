{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vaish\\\\OneDrive\\\\Desktop\\\\splunk-lite-sqlite-fts\\\\frontend\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport LogsPage from './pages/LogsPage';\nimport SearchPage from './pages/SearchPage';\nimport AlertsPage from './pages/AlertsPage';\nimport IndexPage from './pages/IndexPage';\nimport SigninPage from './pages/SigninPage';\nimport SignupPage from './pages/SignupPage';\nimport { me } from './api/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [route, setRoute] = React.useState('index');\n  const [user, setUser] = React.useState(null);\n  const [loadingAuth, setLoadingAuth] = React.useState(true);\n  React.useEffect(() => {\n    // try to rehydrate from stored token\n    const token = localStorage.getItem('token');\n    if (!token) {\n      setLoadingAuth(false);\n      setRoute('signin');\n      return;\n    }\n    (async () => {\n      try {\n        const res = await me(token);\n        if (res && res.username) {\n          setUser({\n            username: res.username\n          });\n          setRoute('index');\n        } else {\n          localStorage.removeItem('token');\n          setRoute('signin');\n        }\n      } catch (e) {\n        localStorage.removeItem('token');\n        setRoute('signin');\n      }\n      setLoadingAuth(false);\n    })();\n  }, []);\n  function handleAuth(result) {\n    // result expected to contain token and username\n    if (result && result.token) {\n      localStorage.setItem('token', result.token);\n      setUser({\n        username: result.username || ''\n      });\n      setRoute('index');\n    }\n  }\n  function signout() {\n    localStorage.removeItem('token');\n    setUser(null);\n    setRoute('signin');\n  }\n  if (loadingAuth) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: \"Checking session...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 27\n  }, this);\n\n  // if not authenticated, show signin/signup flow\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Splunk Enterprise\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: [route === 'signup' && /*#__PURE__*/_jsxDEV(SignupPage, {\n          onNavigate: setRoute\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 34\n        }, this), (route === 'signin' || route === 'index') && /*#__PURE__*/_jsxDEV(SigninPage, {\n          onAuth: handleAuth,\n          onNavigate: setRoute\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 57\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Splunk Enterprise\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setRoute('index'),\n          children: \"Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setRoute('logs'),\n          children: \"Logs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setRoute('search'),\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setRoute('alerts'),\n          children: \"Alerts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginLeft: 12\n          },\n          children: [\"Signed in as \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: user.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 54\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            marginLeft: 8\n          },\n          onClick: signout,\n          children: \"Sign out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [route === 'index' && /*#__PURE__*/_jsxDEV(IndexPage, {\n        onNavigate: setRoute\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 31\n      }, this), route === 'logs' && /*#__PURE__*/_jsxDEV(LogsPage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 30\n      }, this), route === 'search' && /*#__PURE__*/_jsxDEV(SearchPage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 32\n      }, this), route === 'alerts' && /*#__PURE__*/_jsxDEV(AlertsPage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"W1YMZ7967Nd/RSPMlPjHApUx5p8=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","LogsPage","SearchPage","AlertsPage","IndexPage","SigninPage","SignupPage","me","jsxDEV","_jsxDEV","App","_s","route","setRoute","useState","user","setUser","loadingAuth","setLoadingAuth","useEffect","token","localStorage","getItem","res","username","removeItem","e","handleAuth","result","setItem","signout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onNavigate","onAuth","onClick","style","marginLeft","_c","$RefreshReg$"],"sources":["C:/Users/vaish/OneDrive/Desktop/splunk-lite-sqlite-fts/frontend/src/App.jsx"],"sourcesContent":["import React from 'react';\r\nimport LogsPage from './pages/LogsPage';\r\nimport SearchPage from './pages/SearchPage';\r\nimport AlertsPage from './pages/AlertsPage';\r\nimport IndexPage from './pages/IndexPage';\r\nimport SigninPage from './pages/SigninPage';\r\nimport SignupPage from './pages/SignupPage';\r\nimport { me } from './api/auth';\r\n\r\nexport default function App(){\r\n  const [route, setRoute] = React.useState('index');\r\n  const [user, setUser] = React.useState(null);\r\n  const [loadingAuth, setLoadingAuth] = React.useState(true);\r\n\r\n  React.useEffect(()=>{\r\n    // try to rehydrate from stored token\r\n    const token = localStorage.getItem('token');\r\n    if (!token) { setLoadingAuth(false); setRoute('signin'); return; }\r\n    (async ()=>{\r\n      try{\r\n        const res = await me(token);\r\n        if (res && res.username) { setUser({username: res.username}); setRoute('index'); }\r\n        else { localStorage.removeItem('token'); setRoute('signin'); }\r\n      }catch(e){ localStorage.removeItem('token'); setRoute('signin'); }\r\n      setLoadingAuth(false);\r\n    })();\r\n  }, []);\r\n\r\n  function handleAuth(result){\r\n    // result expected to contain token and username\r\n    if (result && result.token) {\r\n      localStorage.setItem('token', result.token);\r\n      setUser({ username: result.username || '' });\r\n      setRoute('index');\r\n    }\r\n  }\r\n\r\n  function signout(){ localStorage.removeItem('token'); setUser(null); setRoute('signin'); }\r\n\r\n  if (loadingAuth) return <div className=\"app\">Checking session...</div>;\r\n\r\n  // if not authenticated, show signin/signup flow\r\n  if (!user) {\r\n    return (\r\n      <div className=\"app\">\r\n        <header>\r\n          <h1>Splunk Enterprise</h1>\r\n        </header>\r\n        <main>\r\n          {route === 'signup' && <SignupPage onNavigate={setRoute} />}\r\n          {(route === 'signin' || route === 'index') && <SigninPage onAuth={handleAuth} onNavigate={setRoute} />}\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <header>\r\n        <h1>Splunk Enterprise</h1>\r\n        <nav>\r\n          <button onClick={()=>setRoute('index')}>Home</button>\r\n          <button onClick={()=>setRoute('logs')}>Logs</button>\r\n          <button onClick={()=>setRoute('search')}>Search</button>\r\n          <button onClick={()=>setRoute('alerts')}>Alerts</button>\r\n          <span style={{marginLeft:12}}>Signed in as <strong>{user.username}</strong></span>\r\n          <button style={{marginLeft:8}} onClick={signout}>Sign out</button>\r\n        </nav>\r\n      </header>\r\n      <main>\r\n        {route === 'index' && <IndexPage onNavigate={setRoute} />}\r\n        {route === 'logs' && <LogsPage/>}\r\n        {route === 'search' && <SearchPage/>}\r\n        {route === 'alerts' && <AlertsPage/>}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}